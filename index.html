<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Proyectos React Sencillos</title>
  <style>
    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      background: linear-gradient(120deg, #a1c4fd 0%, #c2e9fb 100%);
      margin: 0;
      padding: 0;
      min-height: 100vh;
    }
    .container {
      max-width: 1100px;
      margin: 48px auto;
      background: rgba(255,255,255,0.95);
      border-radius: 18px;
      box-shadow: 0 8px 32px #0002;
      padding: 40px 32px 32px 32px;
      border: 1px solid #e3e3e3;
    }
    h1 {
      text-align: center;
      margin-bottom: 36px;
      color: #2d5c8a;
      letter-spacing: 1px;
      font-weight: 700;
      font-size: 2.3em;
      text-shadow: 0 2px 8px #b3d8f7;
    }
    .projects {
      display: flex;
      flex-wrap: wrap;
      gap: 36px;
      justify-content: center;
    }
    .project {
      flex: 1 1 320px;
      min-width: 320px;
      background: linear-gradient(120deg, #f6d365 0%, #fda085 100%);
      border-radius: 16px;
      box-shadow: 0 4px 16px #0001;
      padding: 28px 20px 24px 20px;
      transition: transform 0.2s, box-shadow 0.2s;
      border: 1px solid #f7c59f;
      margin-bottom: 8px;
    }
    .project:hover {
      transform: translateY(-6px) scale(1.03);
      box-shadow: 0 8px 32px #0002;
    }
    .project h2 {
      text-align: center;
      color: #b85c38;
      margin-bottom: 18px;
      font-size: 1.4em;
      letter-spacing: 0.5px;
    }
    /* To-Do List styles */
    .todo-list input[type="text"] {
      width: 68%;
      padding: 8px;
      border-radius: 6px;
      border: 1px solid #b3b3b3;
      font-size: 1em;
      background: #fffbe7;
      margin-bottom: 8px;
      transition: border 0.2s;
    }
    .todo-list input[type="text"]:focus {
      border: 1.5px solid #fda085;
      outline: none;
    }
    .todo-list button {
      padding: 8px 16px;
      margin-left: 8px;
      background: linear-gradient(90deg, #f6d365 0%, #fda085 100%);
      border: none;
      border-radius: 6px;
      color: #fff;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s;
      box-shadow: 0 2px 8px #fda08533;
    }
    .todo-list button:hover {
      background: linear-gradient(90deg, #fda085 0%, #f6d365 100%);
    }
    .todo-list ul {
      list-style: none;
      padding: 0;
      margin-top: 12px;
    }
    .todo-list li {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 7px 0;
      border-bottom: 1px dashed #fda08555;
      font-size: 1.08em;
      transition: background 0.2s;
    }
    .todo-list li:last-child {
      border-bottom: none;
    }
    .todo-list li.completed {
      text-decoration: line-through;
      color: #b3b3b3;
      background: #f6d36522;
    }
    .todo-list li span {
      flex: 1;
      cursor: pointer;
      padding-left: 4px;
      transition: color 0.2s;
    }
    .todo-list li span:hover {
      color: #fda085;
    }
    .todo-list li button {
      background: #fda085;
      color: #fff;
      border: none;
      border-radius: 4px;
      padding: 4px 10px;
      font-size: 0.95em;
      margin-left: 10px;
      cursor: pointer;
      transition: background 0.2s;
    }
    .todo-list li button:hover {
      background: #b85c38;
    }
    /* Calculator styles */
    .calculator {
      display: flex;
      flex-direction: column;
      align-items: center;
      background: #fffbe7;
      border-radius: 10px;
      padding: 18px 10px 14px 10px;
      box-shadow: 0 2px 8px #fda08522;
    }
    .calculator-screen {
      width: 200px;
      height: 44px;
      margin-bottom: 10px;
      text-align: right;
      font-size: 1.3em;
      padding: 8px;
      border: 1.5px solid #fda085;
      border-radius: 6px;
      background: #fff;
      color: #b85c38;
      font-weight: 600;
      letter-spacing: 1px;
      box-shadow: 0 1px 4px #fda08522;
    }
    .calculator-buttons {
      display: grid;
      grid-template-columns: repeat(4, 48px);
      gap: 8px;
    }
    .calculator-buttons button {
      height: 44px;
      font-size: 1.15em;
      border-radius: 6px;
      border: none;
      background: linear-gradient(90deg, #f6d365 0%, #fda085 100%);
      color: #fff;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 2px 8px #fda08533;
      transition: background 0.2s, color 0.2s;
    }
    .calculator-buttons button:active {
      background: #b85c38;
      color: #fffbe7;
    }
    /* Weather Dashboard styles */
    .weather-dashboard {
      background: #e0c3fc;
      background: linear-gradient(120deg, #e0c3fc 0%, #8ec5fc 100%);
      border-radius: 10px;
      padding: 18px 10px 14px 10px;
      box-shadow: 0 2px 8px #8ec5fc33;
    }
    .weather-dashboard input[type="text"] {
      width: 68%;
      padding: 8px;
      border-radius: 6px;
      border: 1px solid #b3b3b3;
      font-size: 1em;
      background: #fff;
      margin-bottom: 8px;
      transition: border 0.2s;
    }
    .weather-dashboard input[type="text"]:focus {
      border: 1.5px solid #8ec5fc;
      outline: none;
    }
    .weather-dashboard button {
      padding: 8px 16px;
      margin-left: 8px;
      background: linear-gradient(90deg, #8ec5fc 0%, #e0c3fc 100%);
      border: none;
      border-radius: 6px;
      color: #fff;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s;
      box-shadow: 0 2px 8px #8ec5fc33;
    }
    .weather-dashboard button:hover {
      background: linear-gradient(90deg, #e0c3fc 0%, #8ec5fc 100%);
    }
    .weather-info {
      margin-top: 18px;
      text-align: center;
      background: #fff;
      border-radius: 8px;
      padding: 14px 0 10px 0;
      box-shadow: 0 2px 8px #8ec5fc22;
      color: #2d5c8a;
      font-size: 1.1em;
    }
    @media (max-width: 900px) {
      .projects {
        flex-direction: column;
        gap: 24px;
      }
      .project {
        min-width: 0;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Proyectos React Sencillos</h1>
    <div class="projects">
      <div class="project">
        <h2>To-Do List</h2>
        <div id="todo-root"></div>
      </div>
      <div class="project">
        <h2>Calculadora</h2>
        <div id="calc-root"></div>
      </div>
      <div class="project">
        <h2>Dashboard del Clima</h2>
        <div id="weather-root"></div>
      </div>
    </div>
  </div>
  <!-- React, ReactDOM y Babel desde CDN -->
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <!-- Código React -->
  <script type="text/babel">
    // To-Do List
    function TodoList() {
      const [tasks, setTasks] = React.useState([]);
      const [input, setInput] = React.useState("");
      const addTask = () => {
        if (input.trim() !== "") {
          setTasks([...tasks, { text: input, completed: false }]);
          setInput("");
        }
      };
      const toggleTask = idx => {
        setTasks(tasks.map((t, i) => i === idx ? { ...t, completed: !t.completed } : t));
      };
      const removeTask = idx => {
        setTasks(tasks.filter((_, i) => i !== idx));
      };
      return (
        <div className="todo-list">
          <input
            type="text"
            value={input}
            placeholder="Nueva tarea..."
            onChange={e => setInput(e.target.value)}
            onKeyDown={e => e.key === 'Enter' && addTask()}
          />
          <button onClick={addTask}>Agregar</button>
          <ul>
            {tasks.map((task, idx) => (
              <li key={idx} className={task.completed ? "completed" : ""}>
                <span onClick={() => toggleTask(idx)} style={{ cursor: 'pointer', flex: 1 }}>{task.text}</span>
                <button onClick={() => removeTask(idx)} style={{ marginLeft: 8 }}>X</button>
              </li>
            ))}
          </ul>
        </div>
      );
    }

    // Calculadora
    function Calculator() {
      const [value, setValue] = React.useState("");
      const handleClick = val => {
        if (val === "C") setValue("");
        else if (val === "=") {
          try {
            setValue(eval(value).toString());
          } catch {
            setValue("Error");
          }
        } else {
          setValue(value + val);
        }
      };
      const buttons = [
        "7", "8", "9", "/",
        "4", "5", "6", "*",
        "1", "2", "3", "-",
        "0", ".", "C", "+",
        "="
      ];
      return (
        <div className="calculator">
          <input className="calculator-screen" value={value} readOnly />
          <div className="calculator-buttons">
            {buttons.map((b, i) => (
              <button key={i} onClick={() => handleClick(b)}>{b}</button>
            ))}
          </div>
        </div>
      );
    }

    // Dashboard del Clima
    function WeatherDashboard() {
      const [city, setCity] = React.useState("");
      const [weather, setWeather] = React.useState(null);
      const [error, setError] = React.useState("");
      const getWeather = async () => {
        setError("");
        setWeather(null);
        if (!city.trim()) return;
        try {
          const res = await fetch(`https://wttr.in/${encodeURIComponent(city)}?format=j1`);
          if (!res.ok) throw new Error("No se pudo obtener el clima");
          const data = await res.json();
          setWeather({
            temp: data.current_condition[0].temp_C,
            desc: data.current_condition[0].weatherDesc[0].value,
            feels: data.current_condition[0].FeelsLikeC
          });
        } catch {
          setError("No se pudo obtener el clima. Intenta otra ciudad.");
        }
      };
      return (
        <div className="weather-dashboard">
          <input
            type="text"
            value={city}
            placeholder="Ciudad (ej: Madrid)"
            onChange={e => setCity(e.target.value)}
            onKeyDown={e => e.key === 'Enter' && getWeather()}
          />
          <button onClick={getWeather}>Buscar</button>
          {error && <div style={{ color: 'red', marginTop: 8 }}>{error}</div>}
          {weather && (
            <div className="weather-info">
              <div><b>Temperatura:</b> {weather.temp}°C</div>
              <div><b>Sensación:</b> {weather.feels}°C</div>
              <div><b>Descripción:</b> {weather.desc}</div>
            </div>
          )}
        </div>
      );
    }

    // Renderizar los componentes
    ReactDOM.createRoot(document.getElementById('todo-root')).render(<TodoList />);
    ReactDOM.createRoot(document.getElementById('calc-root')).render(<Calculator />);
    ReactDOM.createRoot(document.getElementById('weather-root')).render(<WeatherDashboard />);
  </script>
</body>
</html>
